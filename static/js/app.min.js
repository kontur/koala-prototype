/*!  - v0.0.0 - 2014-12-23
* https://github.com/kontur/koala-prototype
* Copyright (c) 2014 ; Licensed  */
angular.module("Koala.controllers",["geolocation"]).controller("HomeController",["$scope","$location",function(a,b){console.log("hello home controller"),a.go=function(c){b.path(c+"/"+a.term)}}]).controller("HereController",["$scope","$route","geolocation","Venues",function(a,b,c,d){console.log("HereController"),c.getLocation().then(function(b){a.locations=d.show({v1:b.coords.latitude,v2:b.coords.longitude})})}]).controller("SearchController",["$scope","$route","Venues",function(a,b,c){console.log("SearchController"),a.locations=c.search({v1:b.current.params.term})}]).controller("LocationController",["$scope","$route","Venue",function(a,b,c){console.log("LocationController",b.current.params.id),a.media=c.images({id:b.current.params.id})}]),angular.module("Koala",["ngRoute","Koala.controllers","Koala.services"]).config(["$routeProvider",function(a){a.when("/home",{templateUrl:"static/partials/home.html",controller:"HomeController"}),a.when("/here",{templateUrl:"static/partials/locations.html",controller:"HereController"}),a.when("/search/:term",{templateUrl:"static/partials/locations.html",controller:"SearchController"}),a.when("/location/:id",{templateUrl:"static/partials/location.html",controller:"LocationController"}),a.otherwise({redirectTo:"/home"})}]),angular.module("Koala.services",["ngResource"]).factory("Places",["$resource",function(a){return a("/location_search/:lat/:lng",{},{search:{method:"GET",isArray:!0}})}]).factory("PlaceSearch",["$resource",function(a){return a("/location/name/:name",{},{search:{method:"GET",isArray:!0}})}]).factory("Venue",["$resource",function(a){return a("/api/venue/:id",{},{images:{method:"GET",isArray:!0}})}]).factory("Venues",["$resource",function(a){return a("/api/venues/:action/:v1/:v2/:v3",{v1:"@v1",v2:"@v2",v3:"@v3"},{show:{params:{action:"show"},method:"GET",isArray:!0},search:{params:{action:"search"},method:"GET",isArray:!0}})}]);