/*!  - v0.0.0 - 2014-12-20
* https://github.com/kontur/koala-prototype
* Copyright (c) 2014 ; Licensed  */
angular.module("Koala.controllers",["geolocation"]).controller("HomeController",["$scope","$location",function(a,b){console.log("hello home controller"),a.go=function(c){b.path(c+"/"+a.term)}}]).controller("NearbyController",["$scope","$route","geolocation","Places",function(a,b,c,d){console.log("hello nearby controller"),c.getLocation().then(function(b){a.coords={lat:b.coords.latitude,lng:b.coords.longitude},console.log(b.coords),a.locations=d.search({lat:b.coords.latitude,lng:b.coords.longitude}),console.log(a.locations)})}]).controller("SearchController",["$scope","$route","Places",function(a,b,c){console.log("hello search controller"),a.term=b.current.params.term,console.log(c.get())}]).controller("LocationController",["$scope","$route","PlaceMedia",function(a,b,c){console.log("hello location controller",b.current.params.id),a.media=c.images({id:b.current.params.id})}]),angular.module("Koala",["ngRoute","Koala.controllers","Koala.services"]).config(["$routeProvider",function(a){a.when("/home",{templateUrl:"static/partials/home.html",controller:"HomeController"}),a.when("/nearby",{templateUrl:"static/partials/nearby.html",controller:"NearbyController"}),a.when("/search/:term",{templateUrl:"static/partials/search.html",controller:"SearchController"}),a.when("/location/:id",{templateUrl:"static/partials/location.html",controller:"LocationController"}),a.otherwise({redirectTo:"/home"})}]),angular.module("Koala.services",["ngResource"]).factory("Places",["$resource",function(a){return a("/location_search/:lat/:lng",{},{search:{method:"GET",isArray:!0}})}]).factory("PlaceMedia",["$resource",function(a){return a("/location_media/:id",{},{images:{method:"GET",isArray:!0}})}]);